<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />


<meta name="author" content="Alison Hill (with minor modifications by Steven Bedrick)" />


<title>Lab 01: Nathan’s Hot-Dog Eating Contest</title>

<script src="site_libs/header-attrs-2.27/header-attrs.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/flatly.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/jqueryui-1.13.2/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<script src="site_libs/navigation-1.1/codefolding.js"></script>
<script src="site_libs/navigation-1.1/sourceembed.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>




<style type="text/css">
#rmd-source-code {
  display: none;
}
</style>





<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
details > summary > p:only-child {
  display: inline;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark the anchor link active (and if it's in a dropdown, also mark that active)
  var dropdown = menuAnchor.closest('li.dropdown');
  if (window.bootstrap) { // Bootstrap 4+
    menuAnchor.addClass('active');
    dropdown.find('> .dropdown-toggle').addClass('active');
  } else { // Bootstrap 3
    menuAnchor.parent().addClass('active');
    dropdown.addClass('active');
  }

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before, .tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "\e259";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "\e258";
  font-family: 'Glyphicons Halflings';
  border: none;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->
<style type="text/css">
.code-folding-btn { margin-bottom: 4px; }
</style>



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-bs-toggle="collapse" data-target="#navbar" data-bs-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">BMI 5/625 Labs, Spring 2025</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="slides.html">Slides &amp; Reading</a>
</li>
<li>
  <a href="data-vis-resources.html">Resources</a>
</li>
<li>
  <a href="https://sakai.ohsu.edu/portal/site/BMI-525-1-AD-Sp25">Sakai</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="about.html">About</a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">

<div class="btn-group pull-right float-right">
<button type="button" class="btn btn-default btn-xs btn-secondary btn-sm dropdown-toggle" data-toggle="dropdown" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span>Code</span> <span class="caret"></span></button>
<ul class="dropdown-menu dropdown-menu-right" style="min-width: 50px;">
<li><a id="rmd-show-all-code" href="#">Show All Code</a></li>
<li><a id="rmd-hide-all-code" href="#">Hide All Code</a></li>
<li role="separator" class="divider"></li>
<li><a id="rmd-download-source" href="#">Download Rmd</a></li>
</ul>
</div>



<h1 class="title toc-ignore">Lab 01: Nathan’s Hot-Dog Eating
Contest</h1>
<h3 class="subtitle">BMI 5/625</h3>
<h4 class="author">Alison Hill (with minor modifications by Steven
Bedrick)</h4>

</div>


<div id="goals-for-lab-01" class="section level1" number="1">
<h1><span class="header-section-number">1</span> Goals for Lab 01</h1>
<ul>
<li>Get your feet wet!</li>
<li>Innoculate you against <code>ggplot2</code> errors- we all get
them!</li>
<li>Get exposed to the <em>range</em> of things you can do, before we go
<strong>deep</strong>…</li>
<li>Develop your <em>own</em> <strong>personal</strong> preferences for
data visualizations!
<ul>
<li>Do you like or hate gridlines?</li>
<li>What fonts do you find pleasant to read?</li>
<li>What kinds of colors do you like?</li>
<li>Are you team <code>theme_gray</code> or <code>theme_bw</code> (or
<code>theme_minimal</code>)?</li>
</ul></li>
</ul>
<p>These are important questions, and I want you to develop
(well-informed) opinions on these matters! <img
src="images/theme-team-tweets.png" /></p>
<p>Most of the things we cover today, we will be re-visiting later in
the term; you are not expected to be familiar with all of the R
functions or patterns that we are using.</p>
<p>Other things to think about for this lab:</p>
<ul>
<li>Try not to copy-and-paste code:
<ul>
<li>Becoming efficient/proficient with R depends on building muscle
memory, and the only way to do that is to type</li>
<li>By typing, you <em>will</em> introduce errors, and this is a good
chance to get practice at interpreting and fixing them.</li>
</ul></li>
<li>Take note of steps or functions that involve bits of R that you are
unfamiliar with- this lab will help you identify particular areas that
you are comfortable with as well as areas you will want to focus
on.</li>
</ul>
</div>
<div id="nathans-hot-dog-eating-contest" class="section level1"
number="2">
<h1><span class="header-section-number">2</span> Nathan’s Hot Dog Eating
Contest</h1>
<p><img
src="https://i0.wp.com/flowingdata.com/wp-content/uploads/2009/06/hot-dogs1.gif?zoom=2&amp;fit=900%2C423" /></p>
<p>This includes a reconstruction of <a
href="http://flowingdata.com/2009/07/02/whos-going-to-win-nathans-hot-dog-eating-contest/hot-dogs-2/">Nathan
Yau’s hot dog contest example</a>, as interpreted by Jackie Wirz, ported
into R and <code>ggplot2</code> by Steven Bedrick for a workshop for the
<a href="https://ohsulibrary-datascienceinstitute.github.io">OHSU Data
Science Institute</a>, and finally adapted, made idiomatic, and improved
by Alison Hill for all you intrepid Data-Viz-onauts!</p>
<p>First, we load our packages:</p>
<pre class="r"><code>library(tidyverse)
library(extrafont)
library(here)</code></pre>
</div>
<div id="read-in-and-wrangle-data" class="section level1" number="3">
<h1><span class="header-section-number">3</span> Read in and wrangle
data</h1>
<p>Next, we load some data. In the Posit Cloud project for this lab, you
will see a <code>data</code> directory with the necessary files. We can
read it in using <code>read_csv</code>, and along the way use
<code>col_factor</code> to tell it how to handle the gender column.</p>
<pre class="r"><code>hot_dogs &lt;- read_csv(here::here(&quot;data&quot;, &quot;hot_dog_contest.csv&quot;), 
    col_types = cols(
      gender = col_factor(levels = NULL)
    ))</code></pre>
<div id="validation" class="section level2" number="3.1">
<h2><span class="header-section-number">3.1</span> Validation</h2>
<p>Check it out, once it is read in, and make sure it looks like
this!</p>
<pre class="r"><code>glimpse(hot_dogs)</code></pre>
<pre><code>Rows: 59
Columns: 4
$ year      &lt;dbl&gt; 2022, 2022, 2021, 2021, 2020, 2020, 2019, 2019, 2018, 2018, 2017, 2017, 2016, 2016, 2015, 2015, 2014, 2014, 2013, 2013, 2…
$ gender    &lt;fct&gt; male, female, male, female, male, female, male, female, male, female, male, female, male, female, male, female, male, fem…
$ name      &lt;chr&gt; &quot;Joey Chestnut&quot;, &quot;Miki Sudo&quot;, &quot;Joey Chestnut&quot;, &quot;Michelle Lesco&quot;, &quot;Joey Chestnut&quot;, &quot;Miki Sudo&quot;, &quot;Joey Chestnut&quot;, &quot;Miki Sud…
$ num_eaten &lt;dbl&gt; 63.000, 40.000, 76.000, 30.750, 75.000, 48.500, 71.000, 31.000, 74.000, 37.000, 72.000, 41.000, 70.000, 38.000, 62.000, 3…</code></pre>
<pre class="r"><code>hot_dogs</code></pre>
<pre><code># A tibble: 59 × 4
    year gender name           num_eaten
   &lt;dbl&gt; &lt;fct&gt;  &lt;chr&gt;              &lt;dbl&gt;
 1  2022 male   Joey Chestnut       63  
 2  2022 female Miki Sudo           40  
 3  2021 male   Joey Chestnut       76  
 4  2021 female Michelle Lesco      30.8
 5  2020 male   Joey Chestnut       75  
 6  2020 female Miki Sudo           48.5
 7  2019 male   Joey Chestnut       71  
 8  2019 female Miki Sudo           31  
 9  2018 male   Joey Chestnut       74  
10  2018 female Miki Sudo           37  
# ℹ 49 more rows</code></pre>
<p>At this point, follow the HLO process and familiarize yourself with
the columns and their contents. Questions to ask:</p>
<ol style="list-style-type: decimal">
<li>Are the types of the columns what you would expect? Note that this
requires that you have some notion of what to expect! Possible things to
think about:</li>
<li>What type makes sense for a column representing a year?</li>
<li>What about the <code>num_eaten</code> column?</li>
<li>What about the <code>gender</code> column? What assumptions</li>
<li>What are the minimum and maximum values in the numeric columns? Are
the values in the range you would expect?</li>
<li>Are there any missing values?</li>
</ol>
<p>In addition to <code>glimpse()</code>, try loading (not installing)
the <code>skimr</code> package and using its <code>skim()</code>
function on the <code>hot_dogs</code> data frame.</p>
</div>
<div id="adding-a-variable" class="section level2" number="3.2">
<h2><span class="header-section-number">3.2</span> Adding a
variable</h2>
<p>In addition to the information that is already <em>in</em> the
dataset itself, we know that we will also be wanting to somehow include
information about whether a given year was before or after the
incorporation of the competitive eating league. Let’s add an
<em>indicator variable</em> to the data using <code>mutate()</code>.
Also, the data’s a little sketchy pre-1981, and for our purposes today
we’ll be focusing on males only, so let’s do some
<code>filter</code>ing, as well:</p>
<pre class="r"><code>hot_dogs &lt;- hot_dogs %&gt;% 
  mutate(post_ifoce = year &gt;= 1997) %&gt;% 
  filter(year &gt;= 1981 &amp; gender == &#39;male&#39;)
hot_dogs</code></pre>
<pre><code># A tibble: 42 × 5
    year gender name           num_eaten post_ifoce
   &lt;dbl&gt; &lt;fct&gt;  &lt;chr&gt;              &lt;dbl&gt; &lt;lgl&gt;     
 1  2022 male   Joey Chestnut         63 TRUE      
 2  2021 male   Joey Chestnut         76 TRUE      
 3  2020 male   Joey Chestnut         75 TRUE      
 4  2019 male   Joey Chestnut         71 TRUE      
 5  2018 male   Joey Chestnut         74 TRUE      
 6  2017 male   Joey Chestnut         72 TRUE      
 7  2016 male   Joey Chestnut         70 TRUE      
 8  2015 male   Matthew Stonie        62 TRUE      
 9  2014 male   Joey Chestnut         61 TRUE      
10  2013 male   Joey Chestnut         69 TRUE      
# ℹ 32 more rows</code></pre>
</div>
</div>
<div id="plot-the-data" class="section level1" number="4">
<h1><span class="header-section-number">4</span> Plot The Data</h1>
<p>Now let’s try making a first crack at a plot:</p>
<pre class="r"><code>ggplot(hot_dogs, aes(x = year, y = num_eaten)) + 
  geom_col()</code></pre>
<p><img src="01-eda_hot_dogs_files/figure-html/unnamed-chunk-5-1.png" width="672" /></p>
<p>Note that our data is already in “counted” form, so we’re using
<code>geom_col()</code> instead of <code>geom_bar()</code>.</p>
<p>We will now progressively improve this visualization, one step at a
time.</p>
</div>
<div id="add-axis-labels-and-title" class="section level1" number="5">
<h1><span class="header-section-number">5</span> Add Axis Labels And
Title</h1>
<pre class="r"><code>ggplot(hot_dogs, aes(x = year, y = num_eaten)) + 
  geom_col() +
  labs(x = &quot;Year&quot;, y = &quot;Hot Dogs and Buns Consumed&quot;) +
  ggtitle(&quot;Nathan&#39;s Hot Dog Eating Contest Results, 1981-2022&quot;, subtitle = &quot;(Male contestants only)&quot;)</code></pre>
<p><img src="01-eda_hot_dogs_files/figure-html/unnamed-chunk-6-1.png" width="672" /></p>
</div>
<div id="play-with-colors" class="section level1" number="6">
<h1><span class="header-section-number">6</span> Play With Colors</h1>
<div class="panel panel-success">
<div class="panel-heading">
Challenge #1:
</div>
<div class="panel-body">
<p>Make 3 versions of the last plot we just made:</p>
<ul>
<li><strong>In the first,</strong> make all the columns outlined in
“white”.</li>
<li><strong>In the second,</strong> make all the columns outlined in
“white” and filled in “navyblue”.</li>
<li><strong>In the third,</strong> make all the columns outlined in
“white” and filled in according to whether or not
<code>post_ifoce</code> is TRUE or FALSE (use default colors for
now).</li>
</ul>
<p><em>HINT:</em> <code>color</code> and <code>fill</code> are two of
<code>ggplot</code>’s aesthetic mapping variables (i.e., “things about
how the plot looks that we get to specify”)</p>
</div>
</div>
<pre class="r"><code>ggplot(hot_dogs, aes(x = year, y = num_eaten)) + 
  geom_col(colour = &quot;white&quot;) + 
  labs(x = &quot;Year&quot;, y = &quot;Hot Dogs and Buns Consumed&quot;) +
  ggtitle(&quot;Nathan&#39;s Hot Dog Eating Contest Results, 1981-2022&quot;, subtitle = &quot;(Male contestants only)&quot;)</code></pre>
<p><img src="01-eda_hot_dogs_files/figure-html/unnamed-chunk-7-1.png" width="672" /></p>
<pre class="r"><code>ggplot(hot_dogs, aes(x = year, y = num_eaten)) + 
  geom_col(colour = &quot;white&quot;, fill = &quot;navyblue&quot;) + 
  labs(x = &quot;Year&quot;, y = &quot;Hot Dogs and Buns Consumed&quot;) +
  ggtitle(&quot;Nathan&#39;s Hot Dog Eating Contest Results, 1981-2022&quot;, subtitle = &quot;(Male contestants only)&quot;)</code></pre>
<p><img src="01-eda_hot_dogs_files/figure-html/unnamed-chunk-8-1.png" width="672" /></p>
<pre class="r"><code>ggplot(hot_dogs, aes(x = year, y = num_eaten)) + 
  geom_col(aes(fill = post_ifoce), colour = &quot;white&quot;) + 
  labs(x = &quot;Year&quot;, y = &quot;Hot Dogs and Buns Consumed&quot;) +
  ggtitle(&quot;Nathan&#39;s Hot Dog Eating Contest Results, 1981-2022&quot;, subtitle = &quot;(Male contestants only)&quot;)</code></pre>
<p><img src="01-eda_hot_dogs_files/figure-html/unnamed-chunk-9-1.png" width="672" /></p>
<div class="panel panel-success">
<div class="panel-heading">
Challenge #2:
</div>
<div class="panel-body">
<p>What if you want to change the legend in the last plot you made? Use
google to figure out how to do the following:</p>
<ul>
<li>Delete the legend title</li>
<li>Make the legend text either “Post-IFOCE” or “Pre-IFOCE”.</li>
</ul>
<p>HINT: in <code>ggplot</code>, legends are controlled by the relevant
scale (color, fill, etc.) that they are mapped to.</p>
</div>
</div>
<pre class="r"><code>ggplot(hot_dogs, aes(x = year, y = num_eaten)) + 
  geom_col(aes(fill = post_ifoce), colour = &quot;white&quot;) + 
  labs(x = &quot;Year&quot;, y = &quot;Hot Dogs and Buns Consumed&quot;) +
  ggtitle(&quot;Nathan&#39;s Hot Dog Eating Contest Results, 1981-2022&quot;, subtitle = &quot;(Male contestants only)&quot;) +
  scale_fill_discrete(name = &quot;&quot;,
                      labels=c(&quot;Pre-IFOCE&quot;, &quot;Post-IFOCE&quot;))</code></pre>
<p><img src="01-eda_hot_dogs_files/figure-html/unnamed-chunk-10-1.png" width="672" /></p>
</div>
<div id="change-the-dataset" class="section level1" number="7">
<h1><span class="header-section-number">7</span> Change The Dataset</h1>
<p>Now, let’s change the question a little bit. Up to this point, we
have looked at HDB performance relative to the <em>creation</em> of the
IFOCE. What if what matters is the <em>affiliation</em> of the
contestants (i.e., whether or not the contestants are members of the
IFOCE or not)? We’ll need some different data for this. Through the
<em>Magic Of Data Science™</em>, we have dug that information up and put
it into an expanded version of our CSV file, which you can find in the
data directory.</p>
<div class="panel panel-success">
<div class="panel-heading">
Challenge #3:
</div>
<div class="panel-body">
<p>Let’s work with this new dataset! Do the following:</p>
<ul>
<li><p>Read in the “hot_dog_contest_with_affiliation.csv” data file,
using <code>col_types</code> to read in <code>affiliated</code> and
<code>gender</code> as factors.</p></li>
<li><p>Within a <code>mutate</code>, create a new variable called
<code>post_ifoce</code> that is TRUE if <code>year</code> is greater
than or equal to 1997.</p></li>
<li><p>Also <code>filter</code> the new data for only years 1981 and
after, and only for male competitors.</p>
</div></li>
</ul>
</div>
<pre class="r"><code>hdm_affil &lt;- read_csv(here::here(&quot;data&quot;, &quot;hot_dog_contest_with_affiliation.csv&quot;), 
    col_types = cols(
      affiliated = col_factor(levels = NULL), 
      gender = col_factor(levels = NULL)
      )) %&gt;% 
  mutate(post_ifoce = year &gt;= 1997) %&gt;% 
  filter(year &gt;= 1981 &amp; gender == &quot;male&quot;) </code></pre>
<pre class="r"><code>hdm_affil &lt;- read_csv(here::here(&quot;data&quot;, &quot;hot_dog_contest_with_affiliation.csv&quot;), 
    col_types = cols(
      affiliated = col_factor(levels = NULL), 
      gender = col_factor(levels = NULL)
      )) %&gt;% 
  mutate(post_ifoce = year &gt;= 1997) %&gt;% 
  filter(year &gt;= 1981 &amp; gender == &quot;male&quot;) 
glimpse(hdm_affil)</code></pre>
<pre><code>Rows: 42
Columns: 6
$ year       &lt;dbl&gt; 2022, 2021, 2020, 2019, 2018, 2017, 2016, 2015, 2014, 2013, 2012, 2011, 2010, 2009, 2008, 2007, 2006, 2005, 2004, 2003, …
$ gender     &lt;fct&gt; male, male, male, male, male, male, male, male, male, male, male, male, male, male, male, male, male, male, male, male, …
$ name       &lt;chr&gt; &quot;Joey Chestnut&quot;, &quot;Joey Chestnut&quot;, &quot;Joey Chestnut&quot;, &quot;Joey Chestnut&quot;, &quot;Joey Chestnut&quot;, &quot;Joey Chestnut&quot;, &quot;Joey Chestnut&quot;, &quot;…
$ num_eaten  &lt;dbl&gt; 63.000, 76.000, 75.000, 71.000, 74.000, 72.000, 70.000, 62.000, 61.000, 69.000, 68.000, 62.000, 54.000, 68.000, 59.000, …
$ affiliated &lt;fct&gt; current, current, current, current, current, current, current, current, current, current, current, current, current, cur…
$ post_ifoce &lt;lgl&gt; TRUE, TRUE, TRUE, TRUE, TRUE, TRUE, TRUE, TRUE, TRUE, TRUE, TRUE, TRUE, TRUE, TRUE, TRUE, TRUE, TRUE, TRUE, TRUE, TRUE, …</code></pre>
<div class="panel panel-success">
<div class="panel-heading">
Challenge #4:
</div>
<div class="panel-body">
<p>Let’s do some basic EDA with this new dataset! Do the following:</p>
<ul>
<li><p>Use <code>dplyr::distinct</code> to figure out how many unique
values there are of <code>affiliated</code>.</p></li>
<li><p>Use <code>dplyr::count</code> to count the number of rows for
each unique value of <code>affiliated</code>; use <code>?count</code> to
figure out how to sort the counts in descending order.</p>
</div></li>
</ul>
</div>
<pre class="r"><code>hdm_affil %&gt;% 
  distinct(affiliated)</code></pre>
<pre><code># A tibble: 3 × 1
  affiliated    
  &lt;fct&gt;         
1 current       
2 former        
3 not affiliated</code></pre>
<pre class="r"><code>hdm_affil %&gt;% 
  count(affiliated, sort = TRUE)</code></pre>
<pre><code># A tibble: 3 × 2
  affiliated         n
  &lt;fct&gt;          &lt;int&gt;
1 not affiliated    20
2 current           16
3 former             6</code></pre>
<p>Now let’s plot this new data, and fill the columns according to our
new <code>affiliated</code> column.</p>
<pre class="r"><code>ggplot(hdm_affil, aes(x = year, y = num_eaten)) + 
  geom_col(aes(fill = affiliated)) + 
  labs(x = &quot;Year&quot;, y = &quot;Hot Dogs and Buns Consumed&quot;) +
  ggtitle(&quot;Nathan&#39;s Hot Dog Eating Contest Results, 1981-2022&quot;, subtitle = &quot;(Male contestants only)&quot;)</code></pre>
<p><img src="01-eda_hot_dogs_files/figure-html/unnamed-chunk-14-1.png" width="672" /></p>
<div class="panel panel-success">
<div class="panel-heading">
Challenge #5:
</div>
<div class="panel-body">
<p>Do the following updates to the last plot we just made:</p>
<ul>
<li><p>Update the colors using hex colors:
<code>c('#E9602B','#2277A0','#CCB683')</code>.</p></li>
<li><p>Change the legend title to “IFOCE-affiliation”.</p></li>
<li><p>Save this plot object as “affil_plot”.</p>
</div></li>
</ul>
</div>
<pre class="r"><code>affil_plot &lt;- ggplot(hdm_affil, aes(x = year, y = num_eaten)) + 
  geom_col(aes(fill = affiliated)) + 
  labs(x = &quot;Year&quot;, y = &quot;Hot Dogs and Buns Consumed&quot;) +
  ggtitle(&quot;Nathan&#39;s Hot Dog Eating Contest Results, 1981-2022&quot;, subtitle = &quot;(Male contestants only)&quot;) +
  scale_fill_manual(values = c(&#39;#E9602B&#39;,&#39;#2277A0&#39;,&#39;#CCB683&#39;),
                    name = &quot;IFOCE-affiliation&quot;)
affil_plot</code></pre>
<p><img src="01-eda_hot_dogs_files/figure-html/unnamed-chunk-15-1.png" width="672" /></p>
<div id="play-with-scales-coordinates" class="section level1"
number="8">
<h1><span class="header-section-number">8</span> Play With Scales &amp;
Coordinates</h1>
<p>Now that the bones of the plot are in place, it’s time to tweak the
details.</p>
<p>The spacing’s a little funky down near the origin of the plot. The <a
href="http://ggplot2.tidyverse.org/reference/scale_continuous.html">documentation</a>
tells us that the defaults are <code>c(0.05, 0)</code> for continuous
variables. The first number is multiplicative and the second is
additive.</p>
<p>The default was that 2.05 ((2022-1981)*.05+0) was added to the right
and left sides of the x-axis as padding, so the effective default limits
were <code>c(1979, 2024)</code>.</p>
<p>Let’s tighten that up with the <code>expand</code> property for the
<code>scale_y_continuous</code> (we’ll also change the breaks for y-axis
tick marks here) and <code>scale_x_continuous</code> settings:</p>
<pre class="r"><code>affil_plot &lt;- affil_plot + 
  scale_y_continuous(expand = c(0, 0),
                     breaks = seq(0, 70, 10)) +
  scale_x_continuous(expand = c(0, 0))
affil_plot</code></pre>
<p><img src="01-eda_hot_dogs_files/figure-html/unnamed-chunk-16-1.png" width="672" /></p>
<p>That is perhaps <em>too</em> tight; note the lack of any space
between the bars and the y-axis on hte left.</p>
<p>Let’s loosen things up a bit by updating the plot coordinates.</p>
<div class="panel panel-success">
<div class="panel-heading">
Challenge #6:
</div>
<div class="panel-body">
<p>Use <code>coord_cartesian</code> to:</p>
<ul>
<li><p>Set the x-axis range to 1980-2023</p></li>
<li><p>Set the y-axis range to 0-80</p>
</div></li>
</ul>
</div>
<p>Using <code>coord_cartesian</code> is the preferred layer here
because (from the <code>coord_cartesian</code> documentation): “setting
limits on the coordinate system will zoom the plot (like you’re looking
at it with a magnifying glass), and will not change the underlying data
like setting <code>limits</code> on a scale will.”</p>
<p>In other words, setting <code>limits</code> will actually result in
individual data points being included or excluded from the plot based on
whether they fall within the specified limits, which could have
unanticipated effects (for example, if your plot includes a line fit,
that line fit will be done using only the included data rather than all
of your data).</p>
<div class="panel panel-info">
<div class="panel-heading">
Lesson:
</div>
<div class="panel-body">
Don’t directly change <code>limits</code> unless you really know what
you are doing! Most of the time, you want to change the coordinates
instead, and do any data point filtering outside of your plotting.
</div>
</div>
<pre class="r"><code>affil_plot &lt;- affil_plot + 
  coord_cartesian(xlim = c(1980, 2023), ylim = c(0, 80)) 
affil_plot</code></pre>
<p><img src="01-eda_hot_dogs_files/figure-html/unnamed-chunk-17-1.png" width="672" /></p>
<div id="play-with-theme-settings" class="section level1" number="9">
<h1><span class="header-section-number">9</span> Play With Theme
Settings</h1>
<p>We will talk a lot more about themes and <code>ggplot</code> later in
the term, but for now, the important thing to know is that most visual
aspects of the plot have a <em>name</em> (e.g. <code>plot.title</code>),
and the <code>theme()</code> function lets us tell <code>ggplot</code>
what any <a
href="https://ggplot2.tidyverse.org/reference/theme.html">named part</a>
of the plot should look like.</p>
<p>Let’s change some key theme settings:</p>
<pre class="r"><code>affil_plot +
  theme(plot.title = element_text(hjust = 0.5)) +
  theme(axis.text = element_text(size = 12)) +
  theme(panel.background = element_blank()) +
  theme(axis.line.x = element_line(color = &quot;gray80&quot;, size = 0.5)) +
  theme(axis.ticks = element_line(color = &quot;gray80&quot;, size = 0.5))</code></pre>
<p><img src="01-eda_hot_dogs_files/figure-html/unnamed-chunk-18-1.png" width="672" /></p>
<div class="panel panel-info">
<div class="panel-heading">
Lesson:
</div>
<div class="panel-body">
You can change <em>almost anything</em> that your heart desires to
change!
</div>
</div>
<p>By default, plot titles in <code>ggplot2</code> are left-aligned. For
<code>hjust</code>:</p>
<ul>
<li><code>0</code> == left</li>
<li><code>0.5</code> == centered</li>
<li><code>1</code> == right</li>
</ul>
<p>We could also save all these as a custom theme. We are not fans of
the default font, so we are also going to change this. To do this, you
need to install the (<code>extrafont</code> package)[<a
href="https://github.com/wch/extrafont"
class="uri">https://github.com/wch/extrafont</a>] and follow its setup
instructions before doing this next step.</p>
<pre class="r"><code>hot_diggity &lt;- theme(plot.title = element_text(hjust = 0.5),
                     axis.text = element_text(size = 12),
                     panel.background = element_blank(),
                     axis.line.x = element_line(color = &quot;gray80&quot;, linewidth = 0.5),
                     axis.ticks = element_line(color = &quot;gray80&quot;, linewidth = 0.5),
                     text = element_text(family = &quot;Lato&quot;) # need extrafont for this
                     )</code></pre>
<pre class="r"><code>affil_plot + hot_diggity </code></pre>
<p><img src="01-eda_hot_dogs_files/figure-html/unnamed-chunk-20-1.png" width="672" /></p>
<p>We could also use someone else’s theme:</p>
<pre class="r"><code>library(ggthemes)
affil_plot + theme_fivethirtyeight(base_family = &quot;Lato&quot;)</code></pre>
<p><img src="01-eda_hot_dogs_files/figure-html/unnamed-chunk-21-1.png" width="672" /></p>
<pre class="r"><code>affil_plot + theme_tufte( base_family = &quot;Palatino&quot;)</code></pre>
<p><img src="01-eda_hot_dogs_files/figure-html/unnamed-chunk-21-2.png" width="672" /></p>
<p>The final thing we have to mess with is the x-axis ticks and labels.
We’ll do this in two steps, then override our previous layer
<code>scale_x_continuous</code>.</p>
<pre class="r"><code># manually compute a list of years that we want labeled...
years_to_label &lt;- seq(from = 1981, to = 2022, by = 4) 
years_to_label</code></pre>
<pre><code> [1] 1981 1985 1989 1993 1997 2001 2005 2009 2013 2017 2021</code></pre>
<pre class="r"><code># add a column to the dataframe containing what we want each year&#39;s label to be
hd_years &lt;- hdm_affil %&gt;%
  distinct(year) %&gt;% 
  mutate(year_lab = ifelse(year %in% years_to_label, year, &quot;&quot;))</code></pre>
<pre class="r"><code># manually tell ggplot what to use for breaks and labels
affil_plot + 
  hot_diggity +
  scale_x_continuous(expand = c(0, 0), 
                     breaks = hd_years$year,
                     labels = hd_years$year_lab)</code></pre>
<pre><code>Scale for x is already present.
Adding another scale for x, which will replace the existing scale.</code></pre>
<p><img src="01-eda_hot_dogs_files/figure-html/unnamed-chunk-23-1.png" width="672" /></p>
</div>
<div id="final-final-final-version" class="section level1" number="10">
<h1><span class="header-section-number">10</span> Final (final, final)
version</h1>
<p>Don’t name your files “final” :)</p>
<p><img
src="http://www.phdcomics.com/comics/archive/phd101212s.gif" /></p>
<p>All together in one chunk, here is our final (for now) plot! I’m also
adding some additional elements here to show you options:</p>
<pre class="r"><code>nathan_plot &lt;- ggplot(hdm_affil, aes(x = year, y = num_eaten)) + 
  geom_col(aes(fill = affiliated)) + 
  labs(x = &quot;Year&quot;, y = &quot;Hot Dogs and Buns Consumed&quot;) +
  ggtitle(&quot;Nathan&#39;s Hot Dog Eating Contest Results, 1981-2022&quot;, subtitle = &quot;(Male contestants only)&quot;) +
  scale_fill_manual(values = c(&#39;#E9602B&#39;,&#39;#2277A0&#39;,&#39;#CCB683&#39;),
                    name = &quot;IFOCE-affiliation&quot;) + 
  hot_diggity +
  scale_y_continuous(expand = c(0, 0),
                     breaks = seq(0, 70, 10)) +
  scale_x_continuous(expand = c(0, 0), 
                     breaks = hd_years$year,
                     labels = hd_years$year_lab) + 
  coord_cartesian(xlim = c(1980, 2023), ylim = c(0, 80)) 
nathan_plot</code></pre>
<p><img src="01-eda_hot_dogs_files/figure-html/unnamed-chunk-24-1.png" width="672" /></p>
<p>The fill legend is doing its job, here, but we might instead want to
use direct annotations on the plot itself, to make it easier and faster
to read.</p>
<p><code>ggplot</code> will let us add <em>annotatations</em> to the
plot- i.e., extra text, lines , etc. that are not derived from the data
in the plot, but are manually specified - using the
<code>annotate()</code> function, which adds additional layers to the
plot. The way we are doing it below is a bit tedious, but demonstrates
how it works.</p>
<pre class="r"><code>nathan_ann &lt;- nathan_plot +
  guides(fill=&quot;none&quot;) + # turn off the legend/guide for the &quot;fill&quot; aesthetic
  coord_cartesian(xlim = c(1980, 2023), ylim = c(0, 90)) +
  annotate(&#39;segment&#39;, x=1980.75, xend=2000.25, y= 30, yend=30, linewidth=0.5, color=&quot;#CCB683&quot;)+
  annotate(&#39;segment&#39;, x=1980.75, xend=1980.75, y= 30, yend=28, linewidth=0.5, color=&quot;#CCB683&quot;) +
  annotate(&#39;segment&#39;, x=2000.25, xend=2000.25, y= 30, yend=28, linewidth=0.5, color=&quot;#CCB683&quot;) +
  annotate(&#39;segment&#39;, x=1990, xend=1990, y= 33, yend=30, linewidth=0.5, color=&quot;#CCB683&quot;) +
  annotate(&#39;text&#39;, x=1990, y=36, label=&quot;No MLE/IFOCE Affiliation&quot;, color=&quot;#CCB683&quot;, family=&quot;Lato&quot;, hjust=0.5, size = 3) +



  annotate(&#39;segment&#39;, x=2000.75, xend=2006.25, y= 58, yend=58, linewidth=0.5, color=&quot;#2277A0&quot;) +
  annotate(&#39;segment&#39;, x=2000.75, xend=2000.75, y= 58, yend=56, linewidth=0.5, color=&quot;#2277A0&quot;) +
  annotate(&#39;segment&#39;, x=2006.25, xend=2006.25, y= 58, yend=56, linewidth=0.5, color=&quot;#2277A0&quot;) +
  annotate(&#39;segment&#39;, x=2003.5, xend=2003.5, y= 61, yend=58, linewidth=0.5, color=&quot;#2277A0&quot;) +
  annotate(&#39;text&#39;, x=2003.5, y=65, label=&quot;MLE/IFOCE\nFormer Member&quot;, color=&quot;#2277A0&quot;, family=&quot;Lato&quot;, hjust=0.5, size = 3) +


  annotate(&#39;segment&#39;, x=2006.75, xend=2022.25, y= 79, yend=79, linewidth=0.5, color=&quot;#E9602B&quot;) +
  annotate(&#39;segment&#39;, x=2006.75, xend=2006.75, y= 79, yend=77, linewidth=0.5, color=&quot;#E9602B&quot;) +
  annotate(&#39;segment&#39;, x=2022.25, xend=2022.25, y= 79, yend=77, linewidth=0.5, color=&quot;#E9602B&quot;) +
  annotate(&#39;segment&#39;, x=2015, xend=2015, y= 82, yend=79, linewidth=0.5, color=&quot;#E9602B&quot;) +
  annotate(&#39;text&#39;, x=2015, y=86, label=&quot;MLE/IFOCE Current Member&quot;, color=&quot;#E9602B&quot;, family=&quot;Lato&quot;, hjust=0.5, size = 3)</code></pre>
<pre><code>Coordinate system already present. Adding new coordinate system, which will replace the existing one.</code></pre>
<pre class="r"><code>nathan_ann</code></pre>
<p><img src="01-eda_hot_dogs_files/figure-html/unnamed-chunk-25-1.png" width="672" /></p>
<p>Finally, adding in another layer of data, including information about
female contestants:</p>
<pre class="r"><code>hdm_females &lt;- read_csv(here::here(&quot;data&quot;, &quot;hot_dog_contest_with_affiliation.csv&quot;), 
    col_types = cols(
      affiliated = col_factor(levels = NULL), 
      gender = col_factor(levels = NULL)
      )) %&gt;% 
  mutate(post_ifoce = year &gt;= 1997) %&gt;% 
  filter(year &gt;= 1981 &amp; gender == &quot;female&quot;) 
glimpse(hdm_females)</code></pre>
<pre><code>Rows: 12
Columns: 6
$ year       &lt;dbl&gt; 2022, 2021, 2020, 2019, 2018, 2017, 2016, 2015, 2014, 2013, 2012, 2011
$ gender     &lt;fct&gt; female, female, female, female, female, female, female, female, female, female, female, female
$ name       &lt;chr&gt; &quot;Miki Sudo&quot;, &quot;Michelle Lesco&quot;, &quot;Miki Sudo&quot;, &quot;Miki Sudo&quot;, &quot;Miki Sudo&quot;, &quot;Miki Sudo&quot;, &quot;Miki Sudo&quot;, &quot;Miki Sudo&quot;, &quot;Miki Sudo&quot;…
$ num_eaten  &lt;dbl&gt; 40.00, 30.75, 48.50, 31.00, 37.00, 41.00, 38.00, 38.00, 34.00, 36.75, 45.00, 40.00
$ affiliated &lt;fct&gt; current, current, current, current, current, current, current, current, current, current, current, current
$ post_ifoce &lt;lgl&gt; TRUE, TRUE, TRUE, TRUE, TRUE, TRUE, TRUE, TRUE, TRUE, TRUE, TRUE, TRUE</code></pre>
<pre class="r"><code>nathan_w_females &lt;- nathan_ann +
  # add in the female data, and manually set a fill color
  geom_col(data = hdm_females, 
           width = 0.75, 
           fill = &quot;#F68A39&quot;) +
  labs(subtitle = NULL) # no longer need the subtitle warning about male-only data!
nathan_w_females</code></pre>
<p><img src="01-eda_hot_dogs_files/figure-html/unnamed-chunk-27-1.png" width="672" /></p>
<p>And adding a final caption:</p>
<pre class="r"><code>caption &lt;- paste(strwrap(&quot;* From 2011 on, separate Men&#39;s and Women&#39;s prizes have been awarded. All female champions to date have been MLE/IFOCE-affiliated.&quot;, 70), collapse=&quot;\n&quot;)

nathan_w_females +
  # now an asterisk to set off the female scores, and a caption
  annotate(&#39;text&#39;, x = 2011, y = 36, label=&quot;*&quot;, family = &quot;Lato&quot;, size = 8) +
  labs(caption = caption) +
  theme(plot.caption = element_text(family = &quot;Lato&quot;, size=8, hjust=0, margin=margin(t=15)))</code></pre>
<p><img src="01-eda_hot_dogs_files/figure-html/unnamed-chunk-28-1.png" width="672" /></p>
</div>
</div>
</div>
</div>
</div>
</div>
</div>

<div id="rmd-source-code">LS0tCnRpdGxlOiAiTGFiIDAxOiBOYXRoYW4ncyBIb3QtRG9nIEVhdGluZyBDb250ZXN0IgpzdWJ0aXRsZTogIkJNSSA1LzYyNSIKYXV0aG9yOiAiQWxpc29uIEhpbGwgKHdpdGggbWlub3IgbW9kaWZpY2F0aW9ucyBieSBTdGV2ZW4gQmVkcmljaykiCm91dHB1dDoKICBodG1sX2RvY3VtZW50OgogICAgdGhlbWU6IGZsYXRseQogICAgdG9jOiBUUlVFCiAgICB0b2NfZmxvYXQ6IFRSVUUKICAgIHRvY19kZXB0aDogMgogICAgbnVtYmVyX3NlY3Rpb25zOiBUUlVFCiAgICBjb2RlX2ZvbGRpbmc6IGhpZGUKICAgIGNvZGVfZG93bmxvYWQ6IHRydWUKLS0tCgpgYGB7ciBzZXR1cCwgaW5jbHVkZSA9IEZBTFNFLCBjYWNoZSA9IEZBTFNFfQprbml0cjo6b3B0c19jaHVuayRzZXQoZXJyb3IgPSBUUlVFLCBjb21tZW50ID0gTkEsIHdhcm5pbmdzID0gRkFMU0UsIGVycm9ycyA9IEZBTFNFLCBtZXNzYWdlcyA9IEZBTFNFLCB0aWR5ID0gRkFMU0UsIGNhY2hlID0gVFJVRSkKYGBgCgpgYGB7ciBsb2FkLXBhY2thZ2VzLCBpbmNsdWRlID0gRkFMU0V9CmxpYnJhcnkodGlkeXZlcnNlKQpsaWJyYXJ5KGV4dHJhZm9udCkKYGBgCgojIEdvYWxzIGZvciBMYWIgMDEKCi0gR2V0IHlvdXIgZmVldCB3ZXQhCi0gSW5ub2N1bGF0ZSB5b3UgYWdhaW5zdCBgZ2dwbG90MmAgZXJyb3JzLSB3ZSBhbGwgZ2V0IHRoZW0hCi0gR2V0IGV4cG9zZWQgdG8gdGhlICpyYW5nZSogb2YgdGhpbmdzIHlvdSBjYW4gZG8sIGJlZm9yZSB3ZSBnbyAqKmRlZXAqKi4uLgotIERldmVsb3AgeW91ciAqb3duKiAqKnBlcnNvbmFsKiogcHJlZmVyZW5jZXMgZm9yIGRhdGEgdmlzdWFsaXphdGlvbnMhCiAgICAtIERvIHlvdSBsaWtlIG9yIGhhdGUgZ3JpZGxpbmVzPwogICAgLSBXaGF0IGZvbnRzIGRvIHlvdSBmaW5kIHBsZWFzYW50IHRvIHJlYWQ/CiAgICAtIFdoYXQga2luZHMgb2YgY29sb3JzIGRvIHlvdSBsaWtlPwogICAgLSBBcmUgeW91IHRlYW0gYHRoZW1lX2dyYXlgIG9yIGB0aGVtZV9id2AgKG9yIGB0aGVtZV9taW5pbWFsYCk/CiAgICAKVGhlc2UgYXJlIGltcG9ydGFudCBxdWVzdGlvbnMsIGFuZCBJIHdhbnQgeW91IHRvIGRldmVsb3AgKHdlbGwtaW5mb3JtZWQpIG9waW5pb25zIG9uIHRoZXNlIG1hdHRlcnMhCiFbXShpbWFnZXMvdGhlbWUtdGVhbS10d2VldHMucG5nKQoKTW9zdCBvZiB0aGUgdGhpbmdzIHdlIGNvdmVyIHRvZGF5LCB3ZSB3aWxsIGJlIHJlLXZpc2l0aW5nIGxhdGVyIGluIHRoZSB0ZXJtOyB5b3UgYXJlIG5vdCBleHBlY3RlZCB0byBiZSBmYW1pbGlhciB3aXRoIGFsbCBvZiB0aGUgUiBmdW5jdGlvbnMgb3IgcGF0dGVybnMgdGhhdCB3ZSBhcmUgdXNpbmcuCgpPdGhlciB0aGluZ3MgdG8gdGhpbmsgYWJvdXQgZm9yIHRoaXMgbGFiOgoKLSBUcnkgbm90IHRvIGNvcHktYW5kLXBhc3RlIGNvZGU6CiAgLSBCZWNvbWluZyBlZmZpY2llbnQvcHJvZmljaWVudCB3aXRoIFIgZGVwZW5kcyBvbiBidWlsZGluZyBtdXNjbGUgbWVtb3J5LCBhbmQgdGhlIG9ubHkgd2F5IHRvIGRvIHRoYXQgaXMgdG8gdHlwZQogIC0gQnkgdHlwaW5nLCB5b3UgX3dpbGxfIGludHJvZHVjZSBlcnJvcnMsIGFuZCB0aGlzIGlzIGEgZ29vZCBjaGFuY2UgdG8gZ2V0IHByYWN0aWNlIGF0IGludGVycHJldGluZyBhbmQgZml4aW5nIHRoZW0uCi0gVGFrZSBub3RlIG9mIHN0ZXBzIG9yIGZ1bmN0aW9ucyB0aGF0IGludm9sdmUgYml0cyBvZiBSIHRoYXQgeW91IGFyZSB1bmZhbWlsaWFyIHdpdGgtIHRoaXMgbGFiIHdpbGwgaGVscCB5b3UgaWRlbnRpZnkgcGFydGljdWxhciBhcmVhcyB0aGF0IHlvdSBhcmUgY29tZm9ydGFibGUgd2l0aCBhcyB3ZWxsIGFzIGFyZWFzIHlvdSB3aWxsIHdhbnQgdG8gZm9jdXMgb24uCgojIE5hdGhhbidzIEhvdCBEb2cgRWF0aW5nIENvbnRlc3QKCiFbXShodHRwczovL2kwLndwLmNvbS9mbG93aW5nZGF0YS5jb20vd3AtY29udGVudC91cGxvYWRzLzIwMDkvMDYvaG90LWRvZ3MxLmdpZj96b29tPTImZml0PTkwMCUyQzQyMykKClRoaXMgaW5jbHVkZXMgYSByZWNvbnN0cnVjdGlvbiBvZiBbTmF0aGFuIFlhdSdzIGhvdCBkb2cgY29udGVzdCBleGFtcGxlXShodHRwOi8vZmxvd2luZ2RhdGEuY29tLzIwMDkvMDcvMDIvd2hvcy1nb2luZy10by13aW4tbmF0aGFucy1ob3QtZG9nLWVhdGluZy1jb250ZXN0L2hvdC1kb2dzLTIvKSwgYXMgaW50ZXJwcmV0ZWQgYnkgSmFja2llIFdpcnosIHBvcnRlZCBpbnRvIFIgYW5kIGBnZ3Bsb3QyYCBieSBTdGV2ZW4gQmVkcmljayBmb3IgYSB3b3Jrc2hvcCBmb3IgdGhlIFtPSFNVIERhdGEgU2NpZW5jZSBJbnN0aXR1dGVdKGh0dHBzOi8vb2hzdWxpYnJhcnktZGF0YXNjaWVuY2VpbnN0aXR1dGUuZ2l0aHViLmlvKSwgYW5kIGZpbmFsbHkgYWRhcHRlZCwgbWFkZSBpZGlvbWF0aWMsIGFuZCBpbXByb3ZlZCBieSBBbGlzb24gSGlsbCBmb3IgYWxsIHlvdSBpbnRyZXBpZCBEYXRhLVZpei1vbmF1dHMhCgoKRmlyc3QsIHdlIGxvYWQgb3VyIHBhY2thZ2VzOiAKCgpgYGB7ciBldmFsPUZBTFNFLCBtZXNzYWdlID0gRkFMU0UsIHdhcm5pbmcgPSBGQUxTRX0KbGlicmFyeSh0aWR5dmVyc2UpCmxpYnJhcnkoZXh0cmFmb250KQpsaWJyYXJ5KGhlcmUpCmBgYAoKCiMgUmVhZCBpbiBhbmQgd3JhbmdsZSBkYXRhCgpOZXh0LCB3ZSBsb2FkIHNvbWUgZGF0YS4gSW4gdGhlIFBvc2l0IENsb3VkIHByb2plY3QgZm9yIHRoaXMgbGFiLCB5b3Ugd2lsbCBzZWUgYSBgZGF0YWAgZGlyZWN0b3J5IHdpdGggdGhlIG5lY2Vzc2FyeSBmaWxlcy4gV2UgY2FuIHJlYWQgaXQgaW4gdXNpbmcgYHJlYWRfY3N2YCwgYW5kIGFsb25nIHRoZSB3YXkgdXNlIGBjb2xfZmFjdG9yYCB0byB0ZWxsIGl0IGhvdyB0byBoYW5kbGUgdGhlIGdlbmRlciBjb2x1bW4uCgpgYGB7cn0KaG90X2RvZ3MgPC0gcmVhZF9jc3YoaGVyZTo6aGVyZSgiZGF0YSIsICJob3RfZG9nX2NvbnRlc3QuY3N2IiksIAogICAgY29sX3R5cGVzID0gY29scygKICAgICAgZ2VuZGVyID0gY29sX2ZhY3RvcihsZXZlbHMgPSBOVUxMKQogICAgKSkKYGBgCgojIyBWYWxpZGF0aW9uCgpDaGVjayBpdCBvdXQsIG9uY2UgaXQgaXMgcmVhZCBpbiwgYW5kIG1ha2Ugc3VyZSBpdCBsb29rcyBsaWtlIHRoaXMhCgpgYGB7cn0KZ2xpbXBzZShob3RfZG9ncykKaG90X2RvZ3MKYGBgCgpBdCB0aGlzIHBvaW50LCBmb2xsb3cgdGhlIEhMTyBwcm9jZXNzIGFuZCBmYW1pbGlhcml6ZSB5b3Vyc2VsZiB3aXRoIHRoZSBjb2x1bW5zIGFuZCB0aGVpciBjb250ZW50cy4gUXVlc3Rpb25zIHRvIGFzazoKCjEuIEFyZSB0aGUgdHlwZXMgb2YgdGhlIGNvbHVtbnMgd2hhdCB5b3Ugd291bGQgZXhwZWN0PyBOb3RlIHRoYXQgdGhpcyByZXF1aXJlcyB0aGF0IHlvdSBoYXZlIHNvbWUgbm90aW9uIG9mIHdoYXQgdG8gZXhwZWN0ISBQb3NzaWJsZSB0aGluZ3MgdG8gdGhpbmsgYWJvdXQ6CiAgMS4gV2hhdCB0eXBlIG1ha2VzIHNlbnNlIGZvciBhIGNvbHVtbiByZXByZXNlbnRpbmcgYSB5ZWFyPwogIDIuIFdoYXQgYWJvdXQgdGhlIGBudW1fZWF0ZW5gIGNvbHVtbj8KICAzLiBXaGF0IGFib3V0IHRoZSBgZ2VuZGVyYCBjb2x1bW4/IFdoYXQgYXNzdW1wdGlvbnMKMi4gV2hhdCBhcmUgdGhlIG1pbmltdW0gYW5kIG1heGltdW0gdmFsdWVzIGluIHRoZSBudW1lcmljIGNvbHVtbnM/IEFyZSB0aGUgdmFsdWVzIGluIHRoZSByYW5nZSB5b3Ugd291bGQgZXhwZWN0PwozLiBBcmUgdGhlcmUgYW55IG1pc3NpbmcgdmFsdWVzPwoKSW4gYWRkaXRpb24gdG8gYGdsaW1wc2UoKWAsIHRyeSBsb2FkaW5nIChub3QgaW5zdGFsbGluZykgdGhlIGBza2ltcmAgcGFja2FnZSBhbmQgdXNpbmcgaXRzIGBza2ltKClgIGZ1bmN0aW9uIG9uIHRoZSBgaG90X2RvZ3NgIGRhdGEgZnJhbWUuCgojIyBBZGRpbmcgYSB2YXJpYWJsZQoKSW4gYWRkaXRpb24gdG8gdGhlIGluZm9ybWF0aW9uIHRoYXQgaXMgYWxyZWFkeSBfaW5fIHRoZSBkYXRhc2V0IGl0c2VsZiwgd2Uga25vdyB0aGF0IHdlIHdpbGwgYWxzbyBiZSB3YW50aW5nIHRvIHNvbWVob3cgaW5jbHVkZSBpbmZvcm1hdGlvbiBhYm91dCB3aGV0aGVyIGEgZ2l2ZW4geWVhciB3YXMgYmVmb3JlIG9yIGFmdGVyIHRoZSBpbmNvcnBvcmF0aW9uIG9mIHRoZSBjb21wZXRpdGl2ZSBlYXRpbmcgbGVhZ3VlLiBMZXQncyBhZGQgYW4gX2luZGljYXRvciB2YXJpYWJsZV8gdG8gdGhlIGRhdGEgdXNpbmcgYG11dGF0ZSgpYC4gQWxzbywgdGhlIGRhdGEncyBhIGxpdHRsZSBza2V0Y2h5IHByZS0xOTgxLCBhbmQgZm9yIG91ciBwdXJwb3NlcyB0b2RheSB3ZSdsbCBiZSBmb2N1c2luZyBvbiBtYWxlcyBvbmx5LCBzbyBsZXQncyBkbyBzb21lIGBmaWx0ZXJgaW5nLCBhcyB3ZWxsOgoKYGBge3J9CmhvdF9kb2dzIDwtIGhvdF9kb2dzICU+JSAKICBtdXRhdGUocG9zdF9pZm9jZSA9IHllYXIgPj0gMTk5NykgJT4lIAogIGZpbHRlcih5ZWFyID49IDE5ODEgJiBnZW5kZXIgPT0gJ21hbGUnKQpob3RfZG9ncwpgYGAKCgoKIyBQbG90IFRoZSBEYXRhCgpOb3cgbGV0J3MgdHJ5IG1ha2luZyBhIGZpcnN0IGNyYWNrIGF0IGEgcGxvdDoKCmBgYHtyfQpnZ3Bsb3QoaG90X2RvZ3MsIGFlcyh4ID0geWVhciwgeSA9IG51bV9lYXRlbikpICsgCiAgZ2VvbV9jb2woKQpgYGAKCk5vdGUgdGhhdCBvdXIgZGF0YSBpcyBhbHJlYWR5IGluICJjb3VudGVkIiBmb3JtLCBzbyB3ZSdyZSB1c2luZyBgZ2VvbV9jb2woKWAgaW5zdGVhZCBvZiBgZ2VvbV9iYXIoKWAuCgpXZSB3aWxsIG5vdyBwcm9ncmVzc2l2ZWx5IGltcHJvdmUgdGhpcyB2aXN1YWxpemF0aW9uLCBvbmUgc3RlcCBhdCBhIHRpbWUuCgojIEFkZCBBeGlzIExhYmVscyBBbmQgVGl0bGUKCgpgYGB7cn0KZ2dwbG90KGhvdF9kb2dzLCBhZXMoeCA9IHllYXIsIHkgPSBudW1fZWF0ZW4pKSArIAogIGdlb21fY29sKCkgKwogIGxhYnMoeCA9ICJZZWFyIiwgeSA9ICJIb3QgRG9ncyBhbmQgQnVucyBDb25zdW1lZCIpICsKICBnZ3RpdGxlKCJOYXRoYW4ncyBIb3QgRG9nIEVhdGluZyBDb250ZXN0IFJlc3VsdHMsIDE5ODEtMjAyMiIsIHN1YnRpdGxlID0gIihNYWxlIGNvbnRlc3RhbnRzIG9ubHkpIikKYGBgCgojIFBsYXkgV2l0aCBDb2xvcnMKCjxkaXYgY2xhc3M9InBhbmVsIHBhbmVsLXN1Y2Nlc3MiPgogIDxkaXYgY2xhc3M9InBhbmVsLWhlYWRpbmciPkNoYWxsZW5nZSAjMTo8L2Rpdj4KICA8ZGl2IGNsYXNzPSJwYW5lbC1ib2R5Ij4KTWFrZSAzIHZlcnNpb25zIG9mIHRoZSBsYXN0IHBsb3Qgd2UganVzdCBtYWRlOgoKKiBfX0luIHRoZSBmaXJzdCxfXyBtYWtlIGFsbCB0aGUgY29sdW1ucyBvdXRsaW5lZCBpbiAid2hpdGUiLgoqIF9fSW4gdGhlIHNlY29uZCxfXyBtYWtlIGFsbCB0aGUgY29sdW1ucyBvdXRsaW5lZCBpbiAid2hpdGUiIGFuZCBmaWxsZWQgaW4gIm5hdnlibHVlIi4KKiBfX0luIHRoZSB0aGlyZCxfXyBtYWtlIGFsbCB0aGUgY29sdW1ucyBvdXRsaW5lZCBpbiAid2hpdGUiIGFuZCBmaWxsZWQgaW4gYWNjb3JkaW5nIHRvIHdoZXRoZXIgb3Igbm90IGBwb3N0X2lmb2NlYCBpcyBUUlVFIG9yIEZBTFNFICh1c2UgZGVmYXVsdCBjb2xvcnMgZm9yIG5vdykuCgpfSElOVDpfIGBjb2xvcmAgYW5kIGBmaWxsYCBhcmUgdHdvIG9mIGBnZ3Bsb3RgJ3MgYWVzdGhldGljIG1hcHBpbmcgdmFyaWFibGVzIChpLmUuLCAidGhpbmdzIGFib3V0IGhvdyB0aGUgcGxvdCBsb29rcyB0aGF0IHdlIGdldCB0byBzcGVjaWZ5IikKCiAgPC9kaXY+CjwvZGl2PgoKCgpgYGB7cn0KZ2dwbG90KGhvdF9kb2dzLCBhZXMoeCA9IHllYXIsIHkgPSBudW1fZWF0ZW4pKSArIAogIGdlb21fY29sKGNvbG91ciA9ICJ3aGl0ZSIpICsgCiAgbGFicyh4ID0gIlllYXIiLCB5ID0gIkhvdCBEb2dzIGFuZCBCdW5zIENvbnN1bWVkIikgKwogIGdndGl0bGUoIk5hdGhhbidzIEhvdCBEb2cgRWF0aW5nIENvbnRlc3QgUmVzdWx0cywgMTk4MS0yMDIyIiwgc3VidGl0bGUgPSAiKE1hbGUgY29udGVzdGFudHMgb25seSkiKQpgYGAKCmBgYHtyfQpnZ3Bsb3QoaG90X2RvZ3MsIGFlcyh4ID0geWVhciwgeSA9IG51bV9lYXRlbikpICsgCiAgZ2VvbV9jb2woY29sb3VyID0gIndoaXRlIiwgZmlsbCA9ICJuYXZ5Ymx1ZSIpICsgCiAgbGFicyh4ID0gIlllYXIiLCB5ID0gIkhvdCBEb2dzIGFuZCBCdW5zIENvbnN1bWVkIikgKwogIGdndGl0bGUoIk5hdGhhbidzIEhvdCBEb2cgRWF0aW5nIENvbnRlc3QgUmVzdWx0cywgMTk4MS0yMDIyIiwgc3VidGl0bGUgPSAiKE1hbGUgY29udGVzdGFudHMgb25seSkiKQpgYGAKCmBgYHtyfQpnZ3Bsb3QoaG90X2RvZ3MsIGFlcyh4ID0geWVhciwgeSA9IG51bV9lYXRlbikpICsgCiAgZ2VvbV9jb2woYWVzKGZpbGwgPSBwb3N0X2lmb2NlKSwgY29sb3VyID0gIndoaXRlIikgKyAKICBsYWJzKHggPSAiWWVhciIsIHkgPSAiSG90IERvZ3MgYW5kIEJ1bnMgQ29uc3VtZWQiKSArCiAgZ2d0aXRsZSgiTmF0aGFuJ3MgSG90IERvZyBFYXRpbmcgQ29udGVzdCBSZXN1bHRzLCAxOTgxLTIwMjIiLCBzdWJ0aXRsZSA9ICIoTWFsZSBjb250ZXN0YW50cyBvbmx5KSIpCmBgYAoKCgo8ZGl2IGNsYXNzPSJwYW5lbCBwYW5lbC1zdWNjZXNzIj4KICA8ZGl2IGNsYXNzPSJwYW5lbC1oZWFkaW5nIj5DaGFsbGVuZ2UgIzI6PC9kaXY+CiAgPGRpdiBjbGFzcz0icGFuZWwtYm9keSI+CldoYXQgaWYgeW91IHdhbnQgdG8gY2hhbmdlIHRoZSBsZWdlbmQgaW4gdGhlIGxhc3QgcGxvdCB5b3UgbWFkZT8gVXNlIGdvb2dsZSB0byBmaWd1cmUgb3V0IGhvdyB0byBkbyB0aGUgZm9sbG93aW5nOgoKKiBEZWxldGUgdGhlIGxlZ2VuZCB0aXRsZQoqIE1ha2UgdGhlIGxlZ2VuZCB0ZXh0IGVpdGhlciAiUG9zdC1JRk9DRSIgb3IgIlByZS1JRk9DRSIuCgpISU5UOiBpbiBgZ2dwbG90YCwgbGVnZW5kcyBhcmUgY29udHJvbGxlZCBieSB0aGUgcmVsZXZhbnQgc2NhbGUgKGNvbG9yLCBmaWxsLCBldGMuKSB0aGF0IHRoZXkgYXJlIG1hcHBlZCB0by4KCiAgPC9kaXY+CjwvZGl2PgoKYGBge3J9CmdncGxvdChob3RfZG9ncywgYWVzKHggPSB5ZWFyLCB5ID0gbnVtX2VhdGVuKSkgKyAKICBnZW9tX2NvbChhZXMoZmlsbCA9IHBvc3RfaWZvY2UpLCBjb2xvdXIgPSAid2hpdGUiKSArIAogIGxhYnMoeCA9ICJZZWFyIiwgeSA9ICJIb3QgRG9ncyBhbmQgQnVucyBDb25zdW1lZCIpICsKICBnZ3RpdGxlKCJOYXRoYW4ncyBIb3QgRG9nIEVhdGluZyBDb250ZXN0IFJlc3VsdHMsIDE5ODEtMjAyMiIsIHN1YnRpdGxlID0gIihNYWxlIGNvbnRlc3RhbnRzIG9ubHkpIikgKwogIHNjYWxlX2ZpbGxfZGlzY3JldGUobmFtZSA9ICIiLAogICAgICAgICAgICAgICAgICAgICAgbGFiZWxzPWMoIlByZS1JRk9DRSIsICJQb3N0LUlGT0NFIikpCmBgYAoKIyBDaGFuZ2UgVGhlIERhdGFzZXQKCk5vdywgbGV0J3MgY2hhbmdlIHRoZSBxdWVzdGlvbiBhIGxpdHRsZSBiaXQuIFVwIHRvIHRoaXMgcG9pbnQsIHdlIGhhdmUgbG9va2VkIGF0IEhEQiBwZXJmb3JtYW5jZSByZWxhdGl2ZSB0byAgdGhlIF9jcmVhdGlvbl8gb2YgdGhlIElGT0NFLiBXaGF0IGlmIHdoYXQgbWF0dGVycyBpcyB0aGUgX2FmZmlsaWF0aW9uXyBvZiB0aGUgY29udGVzdGFudHMgKGkuZS4sIHdoZXRoZXIgb3Igbm90IHRoZSBjb250ZXN0YW50cyBhcmUgbWVtYmVycyBvZiB0aGUgSUZPQ0Ugb3Igbm90KT8gV2UnbGwgbmVlZCBzb21lIGRpZmZlcmVudCBkYXRhIGZvciB0aGlzLiBUaHJvdWdoIHRoZSBfTWFnaWMgT2YgRGF0YSBTY2llbmNl4oSiXywgd2UgaGF2ZSBkdWcgdGhhdCBpbmZvcm1hdGlvbiB1cCBhbmQgcHV0IGl0IGludG8gYW4gZXhwYW5kZWQgdmVyc2lvbiBvZiBvdXIgQ1NWIGZpbGUsIHdoaWNoIHlvdSBjYW4gZmluZCBpbiB0aGUgZGF0YSBkaXJlY3RvcnkuCgoKPGRpdiBjbGFzcz0icGFuZWwgcGFuZWwtc3VjY2VzcyI+CiAgPGRpdiBjbGFzcz0icGFuZWwtaGVhZGluZyI+Q2hhbGxlbmdlICMzOjwvZGl2PgogIDxkaXYgY2xhc3M9InBhbmVsLWJvZHkiPgpMZXQncyB3b3JrIHdpdGggdGhpcyBuZXcgZGF0YXNldCEgRG8gdGhlIGZvbGxvd2luZzoKCiogUmVhZCBpbiB0aGUgImhvdF9kb2dfY29udGVzdF93aXRoX2FmZmlsaWF0aW9uLmNzdiIgZGF0YSBmaWxlLCB1c2luZyBgY29sX3R5cGVzYCB0byByZWFkIGluIGBhZmZpbGlhdGVkYCBhbmQgYGdlbmRlcmAgYXMgZmFjdG9ycy4gCiogV2l0aGluIGEgYG11dGF0ZWAsIGNyZWF0ZSBhIG5ldyB2YXJpYWJsZSBjYWxsZWQgYHBvc3RfaWZvY2VgIHRoYXQgaXMgVFJVRSBpZiBgeWVhcmAgaXMgZ3JlYXRlciB0aGFuIG9yIGVxdWFsIHRvIDE5OTcuIAoqIEFsc28gYGZpbHRlcmAgdGhlIG5ldyBkYXRhIGZvciBvbmx5IHllYXJzIDE5ODEgYW5kIGFmdGVyLCBhbmQgb25seSBmb3IgbWFsZSBjb21wZXRpdG9ycy4KICA8L2Rpdj4KPC9kaXY+CgpgYGB7ciBldmFsID0gRkFMU0V9CmhkbV9hZmZpbCA8LSByZWFkX2NzdihoZXJlOjpoZXJlKCJkYXRhIiwgImhvdF9kb2dfY29udGVzdF93aXRoX2FmZmlsaWF0aW9uLmNzdiIpLCAKICAgIGNvbF90eXBlcyA9IGNvbHMoCiAgICAgIGFmZmlsaWF0ZWQgPSBjb2xfZmFjdG9yKGxldmVscyA9IE5VTEwpLCAKICAgICAgZ2VuZGVyID0gY29sX2ZhY3RvcihsZXZlbHMgPSBOVUxMKQogICAgICApKSAlPiUgCiAgbXV0YXRlKHBvc3RfaWZvY2UgPSB5ZWFyID49IDE5OTcpICU+JSAKICBmaWx0ZXIoeWVhciA+PSAxOTgxICYgZ2VuZGVyID09ICJtYWxlIikgCmBgYAoKCmBgYHtyfQpoZG1fYWZmaWwgPC0gcmVhZF9jc3YoaGVyZTo6aGVyZSgiZGF0YSIsICJob3RfZG9nX2NvbnRlc3Rfd2l0aF9hZmZpbGlhdGlvbi5jc3YiKSwgCiAgICBjb2xfdHlwZXMgPSBjb2xzKAogICAgICBhZmZpbGlhdGVkID0gY29sX2ZhY3RvcihsZXZlbHMgPSBOVUxMKSwgCiAgICAgIGdlbmRlciA9IGNvbF9mYWN0b3IobGV2ZWxzID0gTlVMTCkKICAgICAgKSkgJT4lIAogIG11dGF0ZShwb3N0X2lmb2NlID0geWVhciA+PSAxOTk3KSAlPiUgCiAgZmlsdGVyKHllYXIgPj0gMTk4MSAmIGdlbmRlciA9PSAibWFsZSIpIApnbGltcHNlKGhkbV9hZmZpbCkKYGBgCgo8ZGl2IGNsYXNzPSJwYW5lbCBwYW5lbC1zdWNjZXNzIj4KICA8ZGl2IGNsYXNzPSJwYW5lbC1oZWFkaW5nIj5DaGFsbGVuZ2UgIzQ6PC9kaXY+CiAgPGRpdiBjbGFzcz0icGFuZWwtYm9keSI+CkxldCdzIGRvIHNvbWUgYmFzaWMgRURBIHdpdGggdGhpcyBuZXcgZGF0YXNldCEgRG8gdGhlIGZvbGxvd2luZzoKCiogVXNlIGBkcGx5cjo6ZGlzdGluY3RgIHRvIGZpZ3VyZSBvdXQgaG93IG1hbnkgdW5pcXVlIHZhbHVlcyB0aGVyZSBhcmUgb2YgYGFmZmlsaWF0ZWRgLgoqIFVzZSBgZHBseXI6OmNvdW50YCB0byBjb3VudCB0aGUgbnVtYmVyIG9mIHJvd3MgZm9yIGVhY2ggdW5pcXVlIHZhbHVlIG9mIGBhZmZpbGlhdGVkYDsgdXNlIGA/Y291bnRgIHRvIGZpZ3VyZSBvdXQgaG93IHRvIHNvcnQgdGhlIGNvdW50cyBpbiBkZXNjZW5kaW5nIG9yZGVyLgogIDwvZGl2Pgo8L2Rpdj4KCmBgYHtyfQpoZG1fYWZmaWwgJT4lIAogIGRpc3RpbmN0KGFmZmlsaWF0ZWQpCmhkbV9hZmZpbCAlPiUgCiAgY291bnQoYWZmaWxpYXRlZCwgc29ydCA9IFRSVUUpCmBgYAoKCk5vdyBsZXQncyBwbG90IHRoaXMgbmV3IGRhdGEsIGFuZCBmaWxsIHRoZSBjb2x1bW5zIGFjY29yZGluZyB0byBvdXIgbmV3IGBhZmZpbGlhdGVkYCBjb2x1bW4uCgpgYGB7cn0KZ2dwbG90KGhkbV9hZmZpbCwgYWVzKHggPSB5ZWFyLCB5ID0gbnVtX2VhdGVuKSkgKyAKICBnZW9tX2NvbChhZXMoZmlsbCA9IGFmZmlsaWF0ZWQpKSArIAogIGxhYnMoeCA9ICJZZWFyIiwgeSA9ICJIb3QgRG9ncyBhbmQgQnVucyBDb25zdW1lZCIpICsKICBnZ3RpdGxlKCJOYXRoYW4ncyBIb3QgRG9nIEVhdGluZyBDb250ZXN0IFJlc3VsdHMsIDE5ODEtMjAyMiIsIHN1YnRpdGxlID0gIihNYWxlIGNvbnRlc3RhbnRzIG9ubHkpIikKYGBgCgo8ZGl2IGNsYXNzPSJwYW5lbCBwYW5lbC1zdWNjZXNzIj4KICA8ZGl2IGNsYXNzPSJwYW5lbC1oZWFkaW5nIj5DaGFsbGVuZ2UgIzU6PC9kaXY+CiAgPGRpdiBjbGFzcz0icGFuZWwtYm9keSI+CkRvIHRoZSBmb2xsb3dpbmcgdXBkYXRlcyB0byB0aGUgbGFzdCBwbG90IHdlIGp1c3QgbWFkZToKCiogVXBkYXRlIHRoZSBjb2xvcnMgdXNpbmcgaGV4IGNvbG9yczogYGMoJyNFOTYwMkInLCcjMjI3N0EwJywnI0NDQjY4MycpYC4gCiogQ2hhbmdlIHRoZSBsZWdlbmQgdGl0bGUgdG8gIklGT0NFLWFmZmlsaWF0aW9uIi4gCiogU2F2ZSB0aGlzIHBsb3Qgb2JqZWN0IGFzICJhZmZpbF9wbG90Ii4KICA8L2Rpdj4KPC9kaXY+CgpgYGB7cn0KYWZmaWxfcGxvdCA8LSBnZ3Bsb3QoaGRtX2FmZmlsLCBhZXMoeCA9IHllYXIsIHkgPSBudW1fZWF0ZW4pKSArIAogIGdlb21fY29sKGFlcyhmaWxsID0gYWZmaWxpYXRlZCkpICsgCiAgbGFicyh4ID0gIlllYXIiLCB5ID0gIkhvdCBEb2dzIGFuZCBCdW5zIENvbnN1bWVkIikgKwogIGdndGl0bGUoIk5hdGhhbidzIEhvdCBEb2cgRWF0aW5nIENvbnRlc3QgUmVzdWx0cywgMTk4MS0yMDIyIiwgc3VidGl0bGUgPSAiKE1hbGUgY29udGVzdGFudHMgb25seSkiKSArCiAgc2NhbGVfZmlsbF9tYW51YWwodmFsdWVzID0gYygnI0U5NjAyQicsJyMyMjc3QTAnLCcjQ0NCNjgzJyksCiAgICAgICAgICAgICAgICAgICAgbmFtZSA9ICJJRk9DRS1hZmZpbGlhdGlvbiIpCmFmZmlsX3Bsb3QKYGBgCgojIFBsYXkgV2l0aCBTY2FsZXMgJiBDb29yZGluYXRlcwoKTm93IHRoYXQgdGhlIGJvbmVzIG9mIHRoZSBwbG90IGFyZSBpbiBwbGFjZSwgaXQncyB0aW1lIHRvIHR3ZWFrIHRoZSBkZXRhaWxzLgoKVGhlIHNwYWNpbmcncyBhIGxpdHRsZSBmdW5reSBkb3duIG5lYXIgdGhlIG9yaWdpbiBvZiB0aGUgcGxvdC4gVGhlIFtkb2N1bWVudGF0aW9uXShodHRwOi8vZ2dwbG90Mi50aWR5dmVyc2Uub3JnL3JlZmVyZW5jZS9zY2FsZV9jb250aW51b3VzLmh0bWwpIHRlbGxzIHVzIHRoYXQgdGhlIGRlZmF1bHRzIGFyZSBgYygwLjA1LCAwKWAgZm9yIGNvbnRpbnVvdXMgdmFyaWFibGVzLiBUaGUgZmlyc3QgbnVtYmVyIGlzIG11bHRpcGxpY2F0aXZlIGFuZCB0aGUgc2Vjb25kIGlzIGFkZGl0aXZlLiAKClRoZSBkZWZhdWx0IHdhcyB0aGF0IDIuMDUgKCgyMDIyLTE5ODEpKi4wNSswKSB3YXMgYWRkZWQgdG8gdGhlIHJpZ2h0IGFuZCBsZWZ0IHNpZGVzIG9mIHRoZSB4LWF4aXMgYXMgcGFkZGluZywgc28gdGhlIGVmZmVjdGl2ZSBkZWZhdWx0IGxpbWl0cyB3ZXJlIGBjKDE5NzksIDIwMjQpYC4KCkxldCdzIHRpZ2h0ZW4gdGhhdCB1cCB3aXRoIHRoZSBgZXhwYW5kYCBwcm9wZXJ0eSBmb3IgdGhlIGBzY2FsZV95X2NvbnRpbnVvdXNgICh3ZSdsbCBhbHNvIGNoYW5nZSB0aGUgYnJlYWtzIGZvciB5LWF4aXMgdGljayBtYXJrcyBoZXJlKSBhbmQgYHNjYWxlX3hfY29udGludW91c2Agc2V0dGluZ3M6CgpgYGB7cn0KYWZmaWxfcGxvdCA8LSBhZmZpbF9wbG90ICsgCiAgc2NhbGVfeV9jb250aW51b3VzKGV4cGFuZCA9IGMoMCwgMCksCiAgICAgICAgICAgICAgICAgICAgIGJyZWFrcyA9IHNlcSgwLCA3MCwgMTApKSArCiAgc2NhbGVfeF9jb250aW51b3VzKGV4cGFuZCA9IGMoMCwgMCkpCmFmZmlsX3Bsb3QKYGBgCgoKClRoYXQgaXMgcGVyaGFwcyBfdG9vXyB0aWdodDsgbm90ZSB0aGUgbGFjayBvZiBhbnkgc3BhY2UgYmV0d2VlbiB0aGUgYmFycyBhbmQgdGhlIHktYXhpcyBvbiBodGUgbGVmdC4KCkxldCdzIGxvb3NlbiB0aGluZ3MgdXAgYSBiaXQgYnkgdXBkYXRpbmcgdGhlIHBsb3QgY29vcmRpbmF0ZXMuIAoKPGRpdiBjbGFzcz0icGFuZWwgcGFuZWwtc3VjY2VzcyI+CiAgPGRpdiBjbGFzcz0icGFuZWwtaGVhZGluZyI+Q2hhbGxlbmdlICM2OjwvZGl2PgogIDxkaXYgY2xhc3M9InBhbmVsLWJvZHkiPgpVc2UgYGNvb3JkX2NhcnRlc2lhbmAgdG86CgoqIFNldCB0aGUgeC1heGlzIHJhbmdlIHRvIDE5ODAtMjAyMwoqIFNldCB0aGUgeS1heGlzIHJhbmdlIHRvIDAtODAKICA8L2Rpdj4KPC9kaXY+CgpVc2luZyBgY29vcmRfY2FydGVzaWFuYCBpcyB0aGUgcHJlZmVycmVkIGxheWVyIGhlcmUgYmVjYXVzZSAoZnJvbSB0aGUgYGNvb3JkX2NhcnRlc2lhbmAgZG9jdW1lbnRhdGlvbik6ICJzZXR0aW5nIGxpbWl0cyBvbiB0aGUgY29vcmRpbmF0ZSBzeXN0ZW0gd2lsbCB6b29tIHRoZSBwbG90IChsaWtlIHlvdSdyZSBsb29raW5nIGF0IGl0IHdpdGggYSBtYWduaWZ5aW5nIGdsYXNzKSwgYW5kIHdpbGwgbm90IGNoYW5nZSB0aGUgdW5kZXJseWluZyBkYXRhIGxpa2Ugc2V0dGluZyBgbGltaXRzYCBvbiBhIHNjYWxlIHdpbGwuIiAgCgpJbiBvdGhlciB3b3Jkcywgc2V0dGluZyBgbGltaXRzYCB3aWxsIGFjdHVhbGx5IHJlc3VsdCBpbiBpbmRpdmlkdWFsIGRhdGEgcG9pbnRzIGJlaW5nIGluY2x1ZGVkIG9yIGV4Y2x1ZGVkIGZyb20gdGhlIHBsb3QgYmFzZWQgb24gd2hldGhlciB0aGV5IGZhbGwgd2l0aGluIHRoZSBzcGVjaWZpZWQgbGltaXRzLCB3aGljaCBjb3VsZCBoYXZlIHVuYW50aWNpcGF0ZWQgZWZmZWN0cyAoZm9yIGV4YW1wbGUsIGlmIHlvdXIgcGxvdCBpbmNsdWRlcyBhIGxpbmUgZml0LCB0aGF0IGxpbmUgZml0IHdpbGwgYmUgZG9uZSB1c2luZyBvbmx5IHRoZSBpbmNsdWRlZCBkYXRhIHJhdGhlciB0aGFuIGFsbCBvZiB5b3VyIGRhdGEpLgoKPGRpdiBjbGFzcz0icGFuZWwgcGFuZWwtaW5mbyI+CiAgPGRpdiBjbGFzcz0icGFuZWwtaGVhZGluZyI+TGVzc29uOjwvZGl2PgogIDxkaXYgY2xhc3M9InBhbmVsLWJvZHkiPgpEb24ndCBkaXJlY3RseSBjaGFuZ2UgYGxpbWl0c2AgdW5sZXNzIHlvdSByZWFsbHkga25vdyB3aGF0IHlvdSBhcmUgZG9pbmchIE1vc3Qgb2YgdGhlIHRpbWUsIHlvdSB3YW50IHRvIGNoYW5nZSB0aGUgY29vcmRpbmF0ZXMgaW5zdGVhZCwgYW5kIGRvIGFueSBkYXRhIHBvaW50IGZpbHRlcmluZyBvdXRzaWRlIG9mIHlvdXIgcGxvdHRpbmcuCiAgPC9kaXY+CjwvZGl2PgoKYGBge3J9CmFmZmlsX3Bsb3QgPC0gYWZmaWxfcGxvdCArIAogIGNvb3JkX2NhcnRlc2lhbih4bGltID0gYygxOTgwLCAyMDIzKSwgeWxpbSA9IGMoMCwgODApKSAKYWZmaWxfcGxvdApgYGAKCgojIFBsYXkgV2l0aCBUaGVtZSBTZXR0aW5ncwoKV2Ugd2lsbCB0YWxrIGEgbG90IG1vcmUgYWJvdXQgdGhlbWVzIGFuZCBgZ2dwbG90YCBsYXRlciBpbiB0aGUgdGVybSwgYnV0IGZvciBub3csIHRoZSBpbXBvcnRhbnQgdGhpbmcgdG8ga25vdyBpcyB0aGF0IG1vc3QgdmlzdWFsIGFzcGVjdHMgb2YgdGhlIHBsb3QgaGF2ZSBhIF9uYW1lXyAoZS5nLiBgcGxvdC50aXRsZWApLCBhbmQgdGhlIGB0aGVtZSgpYCBmdW5jdGlvbiBsZXRzIHVzIHRlbGwgYGdncGxvdGAgd2hhdCBhbnkgW25hbWVkIHBhcnRdKGh0dHBzOi8vZ2dwbG90Mi50aWR5dmVyc2Uub3JnL3JlZmVyZW5jZS90aGVtZS5odG1sKSBvZiB0aGUgcGxvdCBzaG91bGQgbG9vayBsaWtlLgoKTGV0J3MgY2hhbmdlIHNvbWUga2V5IHRoZW1lIHNldHRpbmdzOgoKYGBge3J9CmFmZmlsX3Bsb3QgKwogIHRoZW1lKHBsb3QudGl0bGUgPSBlbGVtZW50X3RleHQoaGp1c3QgPSAwLjUpKSArCiAgdGhlbWUoYXhpcy50ZXh0ID0gZWxlbWVudF90ZXh0KHNpemUgPSAxMikpICsKICB0aGVtZShwYW5lbC5iYWNrZ3JvdW5kID0gZWxlbWVudF9ibGFuaygpKSArCiAgdGhlbWUoYXhpcy5saW5lLnggPSBlbGVtZW50X2xpbmUoY29sb3IgPSAiZ3JheTgwIiwgc2l6ZSA9IDAuNSkpICsKICB0aGVtZShheGlzLnRpY2tzID0gZWxlbWVudF9saW5lKGNvbG9yID0gImdyYXk4MCIsIHNpemUgPSAwLjUpKQpgYGAKCjxkaXYgY2xhc3M9InBhbmVsIHBhbmVsLWluZm8iPgogIDxkaXYgY2xhc3M9InBhbmVsLWhlYWRpbmciPkxlc3Nvbjo8L2Rpdj4KICA8ZGl2IGNsYXNzPSJwYW5lbC1ib2R5Ij4KWW91IGNhbiBjaGFuZ2UgKmFsbW9zdCBhbnl0aGluZyogdGhhdCB5b3VyIGhlYXJ0IGRlc2lyZXMgdG8gY2hhbmdlISAKICA8L2Rpdj4KPC9kaXY+CgoKQnkgZGVmYXVsdCwgcGxvdCB0aXRsZXMgaW4gYGdncGxvdDJgIGFyZSBsZWZ0LWFsaWduZWQuIEZvciBgaGp1c3RgOgoKLSBgMGAgPT0gbGVmdAotIGAwLjVgID09IGNlbnRlcmVkCi0gYDFgID09IHJpZ2h0CgpXZSBjb3VsZCBhbHNvIHNhdmUgYWxsIHRoZXNlIGFzIGEgY3VzdG9tIHRoZW1lLiBXZSBhcmUgbm90IGZhbnMgb2YgdGhlIGRlZmF1bHQgZm9udCwgc28gd2UgYXJlIGFsc28gZ29pbmcgdG8gY2hhbmdlIHRoaXMuIFRvIGRvIHRoaXMsIHlvdSBuZWVkIHRvIGluc3RhbGwgdGhlIChgZXh0cmFmb250YCBwYWNrYWdlKVtodHRwczovL2dpdGh1Yi5jb20vd2NoL2V4dHJhZm9udF0gYW5kIGZvbGxvdyBpdHMgc2V0dXAgaW5zdHJ1Y3Rpb25zIGJlZm9yZSBkb2luZyB0aGlzIG5leHQgc3RlcC4KCmBgYHtyfQpob3RfZGlnZ2l0eSA8LSB0aGVtZShwbG90LnRpdGxlID0gZWxlbWVudF90ZXh0KGhqdXN0ID0gMC41KSwKICAgICAgICAgICAgICAgICAgICAgYXhpcy50ZXh0ID0gZWxlbWVudF90ZXh0KHNpemUgPSAxMiksCiAgICAgICAgICAgICAgICAgICAgIHBhbmVsLmJhY2tncm91bmQgPSBlbGVtZW50X2JsYW5rKCksCiAgICAgICAgICAgICAgICAgICAgIGF4aXMubGluZS54ID0gZWxlbWVudF9saW5lKGNvbG9yID0gImdyYXk4MCIsIGxpbmV3aWR0aCA9IDAuNSksCiAgICAgICAgICAgICAgICAgICAgIGF4aXMudGlja3MgPSBlbGVtZW50X2xpbmUoY29sb3IgPSAiZ3JheTgwIiwgbGluZXdpZHRoID0gMC41KSwKICAgICAgICAgICAgICAgICAgICAgdGV4dCA9IGVsZW1lbnRfdGV4dChmYW1pbHkgPSAiTGF0byIpICMgbmVlZCBleHRyYWZvbnQgZm9yIHRoaXMKICAgICAgICAgICAgICAgICAgICAgKQpgYGAKCgoKYGBge3J9CmFmZmlsX3Bsb3QgKyBob3RfZGlnZ2l0eSAKYGBgCgpXZSBjb3VsZCBhbHNvIHVzZSBzb21lb25lIGVsc2UncyB0aGVtZToKCmBgYHtyfQpsaWJyYXJ5KGdndGhlbWVzKQphZmZpbF9wbG90ICsgdGhlbWVfZml2ZXRoaXJ0eWVpZ2h0KGJhc2VfZmFtaWx5ID0gIkxhdG8iKQphZmZpbF9wbG90ICsgdGhlbWVfdHVmdGUoIGJhc2VfZmFtaWx5ID0gIlBhbGF0aW5vIikKYGBgCgoKCgpUaGUgZmluYWwgdGhpbmcgd2UgaGF2ZSB0byBtZXNzIHdpdGggaXMgdGhlIHgtYXhpcyB0aWNrcyBhbmQgbGFiZWxzLiBXZSdsbCBkbyB0aGlzIGluIHR3byBzdGVwcywgdGhlbiBvdmVycmlkZSBvdXIgcHJldmlvdXMgbGF5ZXIgYHNjYWxlX3hfY29udGludW91c2AuCgpgYGB7cn0KIyBtYW51YWxseSBjb21wdXRlIGEgbGlzdCBvZiB5ZWFycyB0aGF0IHdlIHdhbnQgbGFiZWxlZC4uLgp5ZWFyc190b19sYWJlbCA8LSBzZXEoZnJvbSA9IDE5ODEsIHRvID0gMjAyMiwgYnkgPSA0KSAKeWVhcnNfdG9fbGFiZWwKCiMgYWRkIGEgY29sdW1uIHRvIHRoZSBkYXRhZnJhbWUgY29udGFpbmluZyB3aGF0IHdlIHdhbnQgZWFjaCB5ZWFyJ3MgbGFiZWwgdG8gYmUKaGRfeWVhcnMgPC0gaGRtX2FmZmlsICU+JQogIGRpc3RpbmN0KHllYXIpICU+JSAKICBtdXRhdGUoeWVhcl9sYWIgPSBpZmVsc2UoeWVhciAlaW4lIHllYXJzX3RvX2xhYmVsLCB5ZWFyLCAiIikpCmBgYAoKYGBge3J9CiMgbWFudWFsbHkgdGVsbCBnZ3Bsb3Qgd2hhdCB0byB1c2UgZm9yIGJyZWFrcyBhbmQgbGFiZWxzCmFmZmlsX3Bsb3QgKyAKICBob3RfZGlnZ2l0eSArCiAgc2NhbGVfeF9jb250aW51b3VzKGV4cGFuZCA9IGMoMCwgMCksIAogICAgICAgICAgICAgICAgICAgICBicmVha3MgPSBoZF95ZWFycyR5ZWFyLAogICAgICAgICAgICAgICAgICAgICBsYWJlbHMgPSBoZF95ZWFycyR5ZWFyX2xhYikKYGBgCgojIEZpbmFsIChmaW5hbCwgZmluYWwpIHZlcnNpb24KCkRvbid0IG5hbWUgeW91ciBmaWxlcyAiZmluYWwiIDopCgohW10oaHR0cDovL3d3dy5waGRjb21pY3MuY29tL2NvbWljcy9hcmNoaXZlL3BoZDEwMTIxMnMuZ2lmKQoKQWxsIHRvZ2V0aGVyIGluIG9uZSBjaHVuaywgaGVyZSBpcyBvdXIgZmluYWwgKGZvciBub3cpIHBsb3QhIEknbSBhbHNvIGFkZGluZyBzb21lIGFkZGl0aW9uYWwgZWxlbWVudHMgaGVyZSB0byBzaG93IHlvdSBvcHRpb25zOgoKYGBge3J9Cm5hdGhhbl9wbG90IDwtIGdncGxvdChoZG1fYWZmaWwsIGFlcyh4ID0geWVhciwgeSA9IG51bV9lYXRlbikpICsgCiAgZ2VvbV9jb2woYWVzKGZpbGwgPSBhZmZpbGlhdGVkKSkgKyAKICBsYWJzKHggPSAiWWVhciIsIHkgPSAiSG90IERvZ3MgYW5kIEJ1bnMgQ29uc3VtZWQiKSArCiAgZ2d0aXRsZSgiTmF0aGFuJ3MgSG90IERvZyBFYXRpbmcgQ29udGVzdCBSZXN1bHRzLCAxOTgxLTIwMjIiLCBzdWJ0aXRsZSA9ICIoTWFsZSBjb250ZXN0YW50cyBvbmx5KSIpICsKICBzY2FsZV9maWxsX21hbnVhbCh2YWx1ZXMgPSBjKCcjRTk2MDJCJywnIzIyNzdBMCcsJyNDQ0I2ODMnKSwKICAgICAgICAgICAgICAgICAgICBuYW1lID0gIklGT0NFLWFmZmlsaWF0aW9uIikgKyAKICBob3RfZGlnZ2l0eSArCiAgc2NhbGVfeV9jb250aW51b3VzKGV4cGFuZCA9IGMoMCwgMCksCiAgICAgICAgICAgICAgICAgICAgIGJyZWFrcyA9IHNlcSgwLCA3MCwgMTApKSArCiAgc2NhbGVfeF9jb250aW51b3VzKGV4cGFuZCA9IGMoMCwgMCksIAogICAgICAgICAgICAgICAgICAgICBicmVha3MgPSBoZF95ZWFycyR5ZWFyLAogICAgICAgICAgICAgICAgICAgICBsYWJlbHMgPSBoZF95ZWFycyR5ZWFyX2xhYikgKyAKICBjb29yZF9jYXJ0ZXNpYW4oeGxpbSA9IGMoMTk4MCwgMjAyMyksIHlsaW0gPSBjKDAsIDgwKSkgCm5hdGhhbl9wbG90CmBgYAoKCgpUaGUgZmlsbCBsZWdlbmQgaXMgZG9pbmcgaXRzIGpvYiwgaGVyZSwgYnV0IHdlIG1pZ2h0IGluc3RlYWQgd2FudCB0byB1c2UgZGlyZWN0IGFubm90YXRpb25zIG9uIHRoZSBwbG90IGl0c2VsZiwgdG8gbWFrZSBpdCBlYXNpZXIgYW5kIGZhc3RlciB0byByZWFkLiAKCmBnZ3Bsb3RgIHdpbGwgbGV0IHVzIGFkZCBfYW5ub3RhdGF0aW9uc18gdG8gdGhlIHBsb3QtIGkuZS4sIGV4dHJhIHRleHQsIGxpbmVzICwgZXRjLiB0aGF0IGFyZSBub3QgZGVyaXZlZCBmcm9tIHRoZSBkYXRhIGluIHRoZSBwbG90LCBidXQgYXJlIG1hbnVhbGx5IHNwZWNpZmllZCAtIHVzaW5nIHRoZSBgYW5ub3RhdGUoKWAgZnVuY3Rpb24sIHdoaWNoIGFkZHMgYWRkaXRpb25hbCBsYXllcnMgdG8gdGhlIHBsb3QuIFRoZSB3YXkgd2UgYXJlIGRvaW5nIGl0IGJlbG93IGlzIGEgYml0IHRlZGlvdXMsIGJ1dCBkZW1vbnN0cmF0ZXMgaG93IGl0IHdvcmtzLgoKYGBge3J9Cm5hdGhhbl9hbm4gPC0gbmF0aGFuX3Bsb3QgKwogIGd1aWRlcyhmaWxsPSJub25lIikgKyAjIHR1cm4gb2ZmIHRoZSBsZWdlbmQvZ3VpZGUgZm9yIHRoZSAiZmlsbCIgYWVzdGhldGljCiAgY29vcmRfY2FydGVzaWFuKHhsaW0gPSBjKDE5ODAsIDIwMjMpLCB5bGltID0gYygwLCA5MCkpICsKICBhbm5vdGF0ZSgnc2VnbWVudCcsIHg9MTk4MC43NSwgeGVuZD0yMDAwLjI1LCB5PSAzMCwgeWVuZD0zMCwgbGluZXdpZHRoPTAuNSwgY29sb3I9IiNDQ0I2ODMiKSsKICBhbm5vdGF0ZSgnc2VnbWVudCcsIHg9MTk4MC43NSwgeGVuZD0xOTgwLjc1LCB5PSAzMCwgeWVuZD0yOCwgbGluZXdpZHRoPTAuNSwgY29sb3I9IiNDQ0I2ODMiKSArCiAgYW5ub3RhdGUoJ3NlZ21lbnQnLCB4PTIwMDAuMjUsIHhlbmQ9MjAwMC4yNSwgeT0gMzAsIHllbmQ9MjgsIGxpbmV3aWR0aD0wLjUsIGNvbG9yPSIjQ0NCNjgzIikgKwogIGFubm90YXRlKCdzZWdtZW50JywgeD0xOTkwLCB4ZW5kPTE5OTAsIHk9IDMzLCB5ZW5kPTMwLCBsaW5ld2lkdGg9MC41LCBjb2xvcj0iI0NDQjY4MyIpICsKICBhbm5vdGF0ZSgndGV4dCcsIHg9MTk5MCwgeT0zNiwgbGFiZWw9Ik5vIE1MRS9JRk9DRSBBZmZpbGlhdGlvbiIsIGNvbG9yPSIjQ0NCNjgzIiwgZmFtaWx5PSJMYXRvIiwgaGp1c3Q9MC41LCBzaXplID0gMykgKwoKCgogIGFubm90YXRlKCdzZWdtZW50JywgeD0yMDAwLjc1LCB4ZW5kPTIwMDYuMjUsIHk9IDU4LCB5ZW5kPTU4LCBsaW5ld2lkdGg9MC41LCBjb2xvcj0iIzIyNzdBMCIpICsKICBhbm5vdGF0ZSgnc2VnbWVudCcsIHg9MjAwMC43NSwgeGVuZD0yMDAwLjc1LCB5PSA1OCwgeWVuZD01NiwgbGluZXdpZHRoPTAuNSwgY29sb3I9IiMyMjc3QTAiKSArCiAgYW5ub3RhdGUoJ3NlZ21lbnQnLCB4PTIwMDYuMjUsIHhlbmQ9MjAwNi4yNSwgeT0gNTgsIHllbmQ9NTYsIGxpbmV3aWR0aD0wLjUsIGNvbG9yPSIjMjI3N0EwIikgKwogIGFubm90YXRlKCdzZWdtZW50JywgeD0yMDAzLjUsIHhlbmQ9MjAwMy41LCB5PSA2MSwgeWVuZD01OCwgbGluZXdpZHRoPTAuNSwgY29sb3I9IiMyMjc3QTAiKSArCiAgYW5ub3RhdGUoJ3RleHQnLCB4PTIwMDMuNSwgeT02NSwgbGFiZWw9Ik1MRS9JRk9DRVxuRm9ybWVyIE1lbWJlciIsIGNvbG9yPSIjMjI3N0EwIiwgZmFtaWx5PSJMYXRvIiwgaGp1c3Q9MC41LCBzaXplID0gMykgKwoKCiAgYW5ub3RhdGUoJ3NlZ21lbnQnLCB4PTIwMDYuNzUsIHhlbmQ9MjAyMi4yNSwgeT0gNzksIHllbmQ9NzksIGxpbmV3aWR0aD0wLjUsIGNvbG9yPSIjRTk2MDJCIikgKwogIGFubm90YXRlKCdzZWdtZW50JywgeD0yMDA2Ljc1LCB4ZW5kPTIwMDYuNzUsIHk9IDc5LCB5ZW5kPTc3LCBsaW5ld2lkdGg9MC41LCBjb2xvcj0iI0U5NjAyQiIpICsKICBhbm5vdGF0ZSgnc2VnbWVudCcsIHg9MjAyMi4yNSwgeGVuZD0yMDIyLjI1LCB5PSA3OSwgeWVuZD03NywgbGluZXdpZHRoPTAuNSwgY29sb3I9IiNFOTYwMkIiKSArCiAgYW5ub3RhdGUoJ3NlZ21lbnQnLCB4PTIwMTUsIHhlbmQ9MjAxNSwgeT0gODIsIHllbmQ9NzksIGxpbmV3aWR0aD0wLjUsIGNvbG9yPSIjRTk2MDJCIikgKwogIGFubm90YXRlKCd0ZXh0JywgeD0yMDE1LCB5PTg2LCBsYWJlbD0iTUxFL0lGT0NFIEN1cnJlbnQgTWVtYmVyIiwgY29sb3I9IiNFOTYwMkIiLCBmYW1pbHk9IkxhdG8iLCBoanVzdD0wLjUsIHNpemUgPSAzKQpuYXRoYW5fYW5uCmBgYAoKRmluYWxseSwgYWRkaW5nIGluIGFub3RoZXIgbGF5ZXIgb2YgZGF0YSwgaW5jbHVkaW5nIGluZm9ybWF0aW9uIGFib3V0IGZlbWFsZSBjb250ZXN0YW50czoKCmBgYHtyfQpoZG1fZmVtYWxlcyA8LSByZWFkX2NzdihoZXJlOjpoZXJlKCJkYXRhIiwgImhvdF9kb2dfY29udGVzdF93aXRoX2FmZmlsaWF0aW9uLmNzdiIpLCAKICAgIGNvbF90eXBlcyA9IGNvbHMoCiAgICAgIGFmZmlsaWF0ZWQgPSBjb2xfZmFjdG9yKGxldmVscyA9IE5VTEwpLCAKICAgICAgZ2VuZGVyID0gY29sX2ZhY3RvcihsZXZlbHMgPSBOVUxMKQogICAgICApKSAlPiUgCiAgbXV0YXRlKHBvc3RfaWZvY2UgPSB5ZWFyID49IDE5OTcpICU+JSAKICBmaWx0ZXIoeWVhciA+PSAxOTgxICYgZ2VuZGVyID09ICJmZW1hbGUiKSAKZ2xpbXBzZShoZG1fZmVtYWxlcykKYGBgCgpgYGB7cn0KbmF0aGFuX3dfZmVtYWxlcyA8LSBuYXRoYW5fYW5uICsKICAjIGFkZCBpbiB0aGUgZmVtYWxlIGRhdGEsIGFuZCBtYW51YWxseSBzZXQgYSBmaWxsIGNvbG9yCiAgZ2VvbV9jb2woZGF0YSA9IGhkbV9mZW1hbGVzLCAKICAgICAgICAgICB3aWR0aCA9IDAuNzUsIAogICAgICAgICAgIGZpbGwgPSAiI0Y2OEEzOSIpICsKICBsYWJzKHN1YnRpdGxlID0gTlVMTCkgIyBubyBsb25nZXIgbmVlZCB0aGUgc3VidGl0bGUgd2FybmluZyBhYm91dCBtYWxlLW9ubHkgZGF0YSEKbmF0aGFuX3dfZmVtYWxlcwpgYGAKCkFuZCBhZGRpbmcgYSBmaW5hbCBjYXB0aW9uOgoKYGBge3J9CmNhcHRpb24gPC0gcGFzdGUoc3Ryd3JhcCgiKiBGcm9tIDIwMTEgb24sIHNlcGFyYXRlIE1lbidzIGFuZCBXb21lbidzIHByaXplcyBoYXZlIGJlZW4gYXdhcmRlZC4gQWxsIGZlbWFsZSBjaGFtcGlvbnMgdG8gZGF0ZSBoYXZlIGJlZW4gTUxFL0lGT0NFLWFmZmlsaWF0ZWQuIiwgNzApLCBjb2xsYXBzZT0iXG4iKQoKbmF0aGFuX3dfZmVtYWxlcyArCiAgIyBub3cgYW4gYXN0ZXJpc2sgdG8gc2V0IG9mZiB0aGUgZmVtYWxlIHNjb3JlcywgYW5kIGEgY2FwdGlvbgogIGFubm90YXRlKCd0ZXh0JywgeCA9IDIwMTEsIHkgPSAzNiwgbGFiZWw9IioiLCBmYW1pbHkgPSAiTGF0byIsIHNpemUgPSA4KSArCiAgbGFicyhjYXB0aW9uID0gY2FwdGlvbikgKwogIHRoZW1lKHBsb3QuY2FwdGlvbiA9IGVsZW1lbnRfdGV4dChmYW1pbHkgPSAiTGF0byIsIHNpemU9OCwgaGp1c3Q9MCwgbWFyZ2luPW1hcmdpbih0PTE1KSkpCmBgYAoK</div>
<p>
<a rel="license" href="http://creativecommons.org/licenses/by-nc/4.0/">
<img alt="Creative Commons License" style="border-width:0" src="by-nc.png" width="133" height="25"/></a>
</p>


</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->
<script>
$(document).ready(function () {
  window.initializeSourceEmbed("01-eda_hot_dogs.Rmd");
  window.initializeCodeFolding("hide" === "show");
});
</script>

<script>
$(document).ready(function ()  {

    // temporarily add toc-ignore selector to headers for the consistency with Pandoc
    $('.unlisted.unnumbered').addClass('toc-ignore')

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
